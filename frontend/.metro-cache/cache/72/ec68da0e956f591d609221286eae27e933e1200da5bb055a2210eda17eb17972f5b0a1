{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":89,"index":89}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":90},"end":{"line":2,"column":69,"index":159}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}},{"name":"../services/api","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":160},"end":{"line":3,"column":41,"index":201}}],"key":"Pr5/EB33W7mJGi+ygccy+pUf1E8=","exportNames":["*"],"imports":1}},{"name":"react/jsx-dev-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"L9D70Z4hi4aGuui1ysja/oQ5ytI=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _jsxFileName = \"/app/frontend/contexts/AuthContext.tsx\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"AuthProvider\", {\n    enumerable: true,\n    get: function () {\n      return AuthProvider;\n    }\n  });\n  Object.defineProperty(exports, \"useAuth\", {\n    enumerable: true,\n    get: function () {\n      return useAuth;\n    }\n  });\n  var _react = require(_dependencyMap[0], \"react\");\n  var _reactNativeAsyncStorageAsyncStorage = require(_dependencyMap[1], \"@react-native-async-storage/async-storage\");\n  var AsyncStorage = _interopDefault(_reactNativeAsyncStorageAsyncStorage);\n  var _servicesApi = require(_dependencyMap[2], \"../services/api\");\n  var apiService = _interopDefault(_servicesApi);\n  var _reactJsxDevRuntime = require(_dependencyMap[3], \"react/jsx-dev-runtime\");\n  const AuthContext = /*#__PURE__*/(0, _react.createContext)(undefined);\n  const AuthProvider = ({\n    children\n  }) => {\n    _s();\n    const [user, setUser] = (0, _react.useState)(null);\n    const [token, setToken] = (0, _react.useState)(null);\n    const [loading, setLoading] = (0, _react.useState)(true);\n    (0, _react.useEffect)(() => {\n      loadStoredAuth();\n    }, []);\n    const loadStoredAuth = async () => {\n      try {\n        const storedToken = await AsyncStorage.default.getItem('auth_token');\n        const storedUser = await AsyncStorage.default.getItem('user');\n        if (storedToken && storedUser) {\n          setToken(storedToken);\n          setUser(JSON.parse(storedUser));\n        }\n      } catch (error) {\n        console.error('Error loading stored auth:', error);\n      } finally {\n        setLoading(false);\n      }\n    };\n    const login = async (username, password) => {\n      try {\n        const response = await apiService.default.login(username, password);\n        const {\n          access_token,\n          user: userData\n        } = response;\n        await AsyncStorage.default.setItem('auth_token', access_token);\n        await AsyncStorage.default.setItem('user', JSON.stringify(userData));\n        setToken(access_token);\n        setUser(userData);\n      } catch (error) {\n        console.error('Login error:', error);\n        throw new Error(error.response?.data?.detail || 'Login failed');\n      }\n    };\n    const logout = async () => {\n      try {\n        await AsyncStorage.default.removeItem('auth_token');\n        await AsyncStorage.default.removeItem('user');\n        setToken(null);\n        setUser(null);\n      } catch (error) {\n        console.error('Logout error:', error);\n      }\n    };\n    const refreshUser = async () => {\n      try {\n        const userData = await apiService.default.getCurrentUser();\n        await AsyncStorage.default.setItem('user', JSON.stringify(userData));\n        setUser(userData);\n      } catch (error) {\n        console.error('Error refreshing user:', error);\n      }\n    };\n    return /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(AuthContext.Provider, {\n      value: {\n        user,\n        token,\n        loading,\n        login,\n        logout,\n        refreshUser\n      },\n      children: children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 5\n    }, this);\n  };\n  _s(AuthProvider, \"uAkFQMmIUxfxJcQTEb8tCM/KFt4=\");\n  _c = AuthProvider;\n  const useAuth = () => {\n    _s2();\n    const context = (0, _react.useContext)(AuthContext);\n    if (context === undefined) {\n      throw new Error('useAuth must be used within an AuthProvider');\n    }\n    return context;\n  };\n  _s2(useAuth, \"b9L3QQ+jgeyIrH0NfHrJ8nn7VMU=\");\n  var _c;\n  $RefreshReg$(_c, \"AuthProvider\");\n});","lineCount":122,"map":[[15,2,30,0,"Object"],[15,8,30,0],[15,9,30,0,"defineProperty"],[15,23,30,0],[15,24,30,0,"exports"],[15,31,30,0],[16,4,30,0,"enumerable"],[16,14,30,0],[17,4,30,0,"get"],[17,7,30,0],[17,18,30,0,"get"],[17,19,30,0],[18,6,30,0],[18,13,30,0,"AuthProvider"],[18,25,30,0],[19,4,30,0],[20,2,30,0],[21,2,99,0,"Object"],[21,8,99,0],[21,9,99,0,"defineProperty"],[21,23,99,0],[21,24,99,0,"exports"],[21,31,99,0],[22,4,99,0,"enumerable"],[22,14,99,0],[23,4,99,0,"get"],[23,7,99,0],[23,18,99,0,"get"],[23,19,99,0],[24,6,99,0],[24,13,99,0,"useAuth"],[24,20,99,0],[25,4,99,0],[26,2,99,0],[27,2,1,0],[27,6,1,0,"_react"],[27,12,1,0],[27,15,1,0,"require"],[27,22,1,0],[27,23,1,0,"_dependencyMap"],[27,37,1,0],[28,2,2,0],[28,6,2,0,"_reactNativeAsyncStorageAsyncStorage"],[28,42,2,0],[28,45,2,0,"require"],[28,52,2,0],[28,53,2,0,"_dependencyMap"],[28,67,2,0],[29,2,2,0],[29,6,2,0,"AsyncStorage"],[29,18,2,0],[29,21,2,0,"_interopDefault"],[29,36,2,0],[29,37,2,0,"_reactNativeAsyncStorageAsyncStorage"],[29,73,2,0],[30,2,3,0],[30,6,3,0,"_servicesApi"],[30,18,3,0],[30,21,3,0,"require"],[30,28,3,0],[30,29,3,0,"_dependencyMap"],[30,43,3,0],[31,2,3,0],[31,6,3,0,"apiService"],[31,16,3,0],[31,19,3,0,"_interopDefault"],[31,34,3,0],[31,35,3,0,"_servicesApi"],[31,47,3,0],[32,2,3,41],[32,6,3,41,"_reactJsxDevRuntime"],[32,25,3,41],[32,28,3,41,"require"],[32,35,3,41],[32,36,3,41,"_dependencyMap"],[32,50,3,41],[33,2,28,0],[33,8,28,6,"AuthContext"],[33,19,28,17],[33,35,28,20],[33,39,28,20,"createContext"],[33,45,28,33],[33,46,28,33,"createContext"],[33,59,28,33],[33,61,28,63,"undefined"],[33,70,28,72],[33,71,28,73],[34,2,30,7],[34,8,30,13,"AuthProvider"],[34,20,30,25],[34,23,30,28,"AuthProvider"],[34,24,30,29],[35,4,30,31,"children"],[36,2,30,65],[36,3,30,66],[36,8,30,71],[37,4,30,71,"_s"],[37,6,30,71],[38,4,31,2],[38,10,31,8],[38,11,31,9,"user"],[38,15,31,13],[38,17,31,15,"setUser"],[38,24,31,22],[38,25,31,23],[38,28,31,26],[38,32,31,26,"useState"],[38,38,31,34],[38,39,31,34,"useState"],[38,47,31,34],[38,49,31,48],[38,53,31,52],[38,54,31,53],[39,4,32,2],[39,10,32,8],[39,11,32,9,"token"],[39,16,32,14],[39,18,32,16,"setToken"],[39,26,32,24],[39,27,32,25],[39,30,32,28],[39,34,32,28,"useState"],[39,40,32,36],[39,41,32,36,"useState"],[39,49,32,36],[39,51,32,52],[39,55,32,56],[39,56,32,57],[40,4,33,2],[40,10,33,8],[40,11,33,9,"loading"],[40,18,33,16],[40,20,33,18,"setLoading"],[40,30,33,28],[40,31,33,29],[40,34,33,32],[40,38,33,32,"useState"],[40,44,33,40],[40,45,33,40,"useState"],[40,53,33,40],[40,55,33,41],[40,59,33,45],[40,60,33,46],[41,4,35,2],[41,8,35,2,"useEffect"],[41,14,35,11],[41,15,35,11,"useEffect"],[41,24,35,11],[41,26,35,12],[41,32,35,18],[42,6,36,4,"loadStoredAuth"],[42,20,36,18],[42,21,36,19],[42,22,36,20],[43,4,37,2],[43,5,37,3],[43,7,37,5],[43,9,37,7],[43,10,37,8],[44,4,39,2],[44,10,39,8,"loadStoredAuth"],[44,24,39,22],[44,27,39,25],[44,33,39,25,"loadStoredAuth"],[44,34,39,25],[44,39,39,37],[45,6,40,4],[45,10,40,8],[46,8,41,6],[46,14,41,12,"storedToken"],[46,25,41,23],[46,28,41,26],[46,34,41,32,"AsyncStorage"],[46,46,41,44],[46,47,41,44,"default"],[46,54,41,44],[46,55,41,45,"getItem"],[46,62,41,52],[46,63,41,53],[46,75,41,65],[46,76,41,66],[47,8,42,6],[47,14,42,12,"storedUser"],[47,24,42,22],[47,27,42,25],[47,33,42,31,"AsyncStorage"],[47,45,42,43],[47,46,42,43,"default"],[47,53,42,43],[47,54,42,44,"getItem"],[47,61,42,51],[47,62,42,52],[47,68,42,58],[47,69,42,59],[48,8,44,6],[48,12,44,10,"storedToken"],[48,23,44,21],[48,27,44,25,"storedUser"],[48,37,44,35],[48,39,44,37],[49,10,45,8,"setToken"],[49,18,45,16],[49,19,45,17,"storedToken"],[49,30,45,28],[49,31,45,29],[50,10,46,8,"setUser"],[50,17,46,15],[50,18,46,16,"JSON"],[50,22,46,20],[50,23,46,21,"parse"],[50,28,46,26],[50,29,46,27,"storedUser"],[50,39,46,37],[50,40,46,38],[50,41,46,39],[51,8,47,6],[52,6,48,4],[52,7,48,5],[52,8,48,6],[52,15,48,13,"error"],[52,20,48,18],[52,22,48,20],[53,8,49,6,"console"],[53,15,49,13],[53,16,49,14,"error"],[53,21,49,19],[53,22,49,20],[53,50,49,48],[53,52,49,50,"error"],[53,57,49,55],[53,58,49,56],[54,6,50,4],[54,7,50,5],[54,16,50,14],[55,8,51,6,"setLoading"],[55,18,51,16],[55,19,51,17],[55,24,51,22],[55,25,51,23],[56,6,52,4],[57,4,53,2],[57,5,53,3],[58,4,55,2],[58,10,55,8,"login"],[58,15,55,13],[58,18,55,16],[58,24,55,16,"login"],[58,25,55,23,"username"],[58,33,55,39],[58,35,55,41,"password"],[58,43,55,57],[58,48,55,62],[59,6,56,4],[59,10,56,8],[60,8,57,6],[60,14,57,12,"response"],[60,22,57,20],[60,25,57,23],[60,31,57,29,"apiService"],[60,41,57,39],[60,42,57,39,"default"],[60,49,57,39],[60,50,57,40,"login"],[60,55,57,45],[60,56,57,46,"username"],[60,64,57,54],[60,66,57,56,"password"],[60,74,57,64],[60,75,57,65],[61,8,58,6],[61,14,58,12],[62,10,58,14,"access_token"],[62,22,58,26],[63,10,58,28,"user"],[63,14,58,32],[63,16,58,34,"userData"],[64,8,58,43],[64,9,58,44],[64,12,58,47,"response"],[64,20,58,55],[65,8,60,6],[65,14,60,12,"AsyncStorage"],[65,26,60,24],[65,27,60,24,"default"],[65,34,60,24],[65,35,60,25,"setItem"],[65,42,60,32],[65,43,60,33],[65,55,60,45],[65,57,60,47,"access_token"],[65,69,60,59],[65,70,60,60],[66,8,61,6],[66,14,61,12,"AsyncStorage"],[66,26,61,24],[66,27,61,24,"default"],[66,34,61,24],[66,35,61,25,"setItem"],[66,42,61,32],[66,43,61,33],[66,49,61,39],[66,51,61,41,"JSON"],[66,55,61,45],[66,56,61,46,"stringify"],[66,65,61,55],[66,66,61,56,"userData"],[66,74,61,64],[66,75,61,65],[66,76,61,66],[67,8,63,6,"setToken"],[67,16,63,14],[67,17,63,15,"access_token"],[67,29,63,27],[67,30,63,28],[68,8,64,6,"setUser"],[68,15,64,13],[68,16,64,14,"userData"],[68,24,64,22],[68,25,64,23],[69,6,65,4],[69,7,65,5],[69,8,65,6],[69,15,65,13,"error"],[69,20,65,23],[69,22,65,25],[70,8,66,6,"console"],[70,15,66,13],[70,16,66,14,"error"],[70,21,66,19],[70,22,66,20],[70,36,66,34],[70,38,66,36,"error"],[70,43,66,41],[70,44,66,42],[71,8,67,6],[71,14,67,12],[71,18,67,16,"Error"],[71,23,67,21],[71,24,67,22,"error"],[71,29,67,27],[71,30,67,28,"response"],[71,38,67,36],[71,40,67,38,"data"],[71,44,67,42],[71,46,67,44,"detail"],[71,52,67,50],[71,56,67,54],[71,70,67,68],[71,71,67,69],[72,6,68,4],[73,4,69,2],[73,5,69,3],[74,4,71,2],[74,10,71,8,"logout"],[74,16,71,14],[74,19,71,17],[74,25,71,17,"logout"],[74,26,71,17],[74,31,71,29],[75,6,72,4],[75,10,72,8],[76,8,73,6],[76,14,73,12,"AsyncStorage"],[76,26,73,24],[76,27,73,24,"default"],[76,34,73,24],[76,35,73,25,"removeItem"],[76,45,73,35],[76,46,73,36],[76,58,73,48],[76,59,73,49],[77,8,74,6],[77,14,74,12,"AsyncStorage"],[77,26,74,24],[77,27,74,24,"default"],[77,34,74,24],[77,35,74,25,"removeItem"],[77,45,74,35],[77,46,74,36],[77,52,74,42],[77,53,74,43],[78,8,75,6,"setToken"],[78,16,75,14],[78,17,75,15],[78,21,75,19],[78,22,75,20],[79,8,76,6,"setUser"],[79,15,76,13],[79,16,76,14],[79,20,76,18],[79,21,76,19],[80,6,77,4],[80,7,77,5],[80,8,77,6],[80,15,77,13,"error"],[80,20,77,18],[80,22,77,20],[81,8,78,6,"console"],[81,15,78,13],[81,16,78,14,"error"],[81,21,78,19],[81,22,78,20],[81,37,78,35],[81,39,78,37,"error"],[81,44,78,42],[81,45,78,43],[82,6,79,4],[83,4,80,2],[83,5,80,3],[84,4,82,2],[84,10,82,8,"refreshUser"],[84,21,82,19],[84,24,82,22],[84,30,82,22,"refreshUser"],[84,31,82,22],[84,36,82,34],[85,6,83,4],[85,10,83,8],[86,8,84,6],[86,14,84,12,"userData"],[86,22,84,20],[86,25,84,23],[86,31,84,29,"apiService"],[86,41,84,39],[86,42,84,39,"default"],[86,49,84,39],[86,50,84,40,"getCurrentUser"],[86,64,84,54],[86,65,84,55],[86,66,84,56],[87,8,85,6],[87,14,85,12,"AsyncStorage"],[87,26,85,24],[87,27,85,24,"default"],[87,34,85,24],[87,35,85,25,"setItem"],[87,42,85,32],[87,43,85,33],[87,49,85,39],[87,51,85,41,"JSON"],[87,55,85,45],[87,56,85,46,"stringify"],[87,65,85,55],[87,66,85,56,"userData"],[87,74,85,64],[87,75,85,65],[87,76,85,66],[88,8,86,6,"setUser"],[88,15,86,13],[88,16,86,14,"userData"],[88,24,86,22],[88,25,86,23],[89,6,87,4],[89,7,87,5],[89,8,87,6],[89,15,87,13,"error"],[89,20,87,18],[89,22,87,20],[90,8,88,6,"console"],[90,15,88,13],[90,16,88,14,"error"],[90,21,88,19],[90,22,88,20],[90,46,88,44],[90,48,88,46,"error"],[90,53,88,51],[90,54,88,52],[91,6,89,4],[92,4,90,2],[92,5,90,3],[93,4,92,2],[93,24,93,4],[93,28,93,4,"_reactJsxDevRuntime"],[93,47,93,4],[93,48,93,4,"jsxDEV"],[93,54,93,4],[93,56,93,5,"AuthContext"],[93,67,93,16],[93,68,93,17,"Provider"],[93,76,93,25],[94,6,93,26,"value"],[94,11,93,31],[94,13,93,33],[95,8,93,35,"user"],[95,12,93,39],[96,8,93,41,"token"],[96,13,93,46],[97,8,93,48,"loading"],[97,15,93,55],[98,8,93,57,"login"],[98,13,93,62],[99,8,93,64,"logout"],[99,14,93,70],[100,8,93,72,"refreshUser"],[101,6,93,84],[101,7,93,86],[102,6,93,86,"children"],[102,14,93,86],[102,16,94,7,"children"],[103,4,94,15],[104,6,94,15,"fileName"],[104,14,94,15],[104,16,94,15,"_jsxFileName"],[104,28,94,15],[105,6,94,15,"lineNumber"],[105,16,94,15],[106,6,94,15,"columnNumber"],[106,18,94,15],[107,4,94,15],[107,11,95,26],[107,12,95,27],[108,2,97,0],[108,3,97,1],[109,2,97,2,"_s"],[109,4,97,2],[109,5,30,13,"AuthProvider"],[109,17,30,25],[110,2,30,25,"_c"],[110,4,30,25],[110,7,30,13,"AuthProvider"],[110,19,30,25],[111,2,99,7],[111,8,99,13,"useAuth"],[111,15,99,20],[111,18,99,23,"useAuth"],[111,19,99,23],[111,24,99,29],[112,4,99,29,"_s2"],[112,7,99,29],[113,4,100,2],[113,10,100,8,"context"],[113,17,100,15],[113,20,100,18],[113,24,100,18,"useContext"],[113,30,100,28],[113,31,100,28,"useContext"],[113,41,100,28],[113,43,100,29,"AuthContext"],[113,54,100,40],[113,55,100,41],[114,4,101,2],[114,8,101,6,"context"],[114,15,101,13],[114,20,101,18,"undefined"],[114,29,101,27],[114,31,101,29],[115,6,102,4],[115,12,102,10],[115,16,102,14,"Error"],[115,21,102,19],[115,22,102,20],[115,67,102,65],[115,68,102,66],[116,4,103,2],[117,4,104,2],[117,11,104,9,"context"],[117,18,104,16],[118,2,105,0],[118,3,105,1],[119,2,105,2,"_s2"],[119,5,105,2],[119,6,99,13,"useAuth"],[119,13,99,20],[120,2,99,20],[120,6,99,20,"_c"],[120,8,99,20],[121,2,99,20,"$RefreshReg$"],[121,14,99,20],[121,15,99,20,"_c"],[121,17,99,20],[122,0,99,20],[122,3]],"functionMap":{"names":["<global>","AuthProvider","useEffect$argument_0","loadStoredAuth","login","logout","refreshUser","useAuth"],"mappings":"AAA;4BC6B;YCK;GDE;yBEE;GFc;gBGE;GHc;iBIE;GJS;sBKE;GLQ;CDO;uBOE;CPM"},"hasCjsExports":false},"type":"js/module"}]}