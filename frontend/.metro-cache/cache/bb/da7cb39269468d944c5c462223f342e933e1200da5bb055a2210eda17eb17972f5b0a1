{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":89,"index":89}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":90},"end":{"line":2,"column":69,"index":159}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}},{"name":"../services/api","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":160},"end":{"line":3,"column":41,"index":201}}],"key":"Pr5/EB33W7mJGi+ygccy+pUf1E8=","exportNames":["*"],"imports":1}},{"name":"react/jsx-dev-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"L9D70Z4hi4aGuui1ysja/oQ5ytI=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _jsxFileName = \"/app/frontend/contexts/AuthContext.tsx\";\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"AuthProvider\", {\n    enumerable: true,\n    get: function () {\n      return AuthProvider;\n    }\n  });\n  Object.defineProperty(exports, \"useAuth\", {\n    enumerable: true,\n    get: function () {\n      return useAuth;\n    }\n  });\n  var _react = require(_dependencyMap[0], \"react\");\n  var _reactNativeAsyncStorageAsyncStorage = require(_dependencyMap[1], \"@react-native-async-storage/async-storage\");\n  var AsyncStorage = _interopDefault(_reactNativeAsyncStorageAsyncStorage);\n  var _servicesApi = require(_dependencyMap[2], \"../services/api\");\n  var apiService = _interopDefault(_servicesApi);\n  var _reactJsxDevRuntime = require(_dependencyMap[3], \"react/jsx-dev-runtime\");\n  const AuthContext = /*#__PURE__*/(0, _react.createContext)(undefined);\n  const AuthProvider = ({\n    children\n  }) => {\n    const [user, setUser] = (0, _react.useState)(null);\n    const [token, setToken] = (0, _react.useState)(null);\n    const [loading, setLoading] = (0, _react.useState)(true);\n    (0, _react.useEffect)(() => {\n      loadStoredAuth();\n    }, []);\n    const loadStoredAuth = async () => {\n      try {\n        const storedToken = await AsyncStorage.default.getItem('auth_token');\n        const storedUser = await AsyncStorage.default.getItem('user');\n        if (storedToken && storedUser) {\n          setToken(storedToken);\n          setUser(JSON.parse(storedUser));\n        }\n      } catch (error) {\n        console.error('Error loading stored auth:', error);\n      } finally {\n        setLoading(false);\n      }\n    };\n    const login = async (username, password) => {\n      try {\n        const response = await apiService.default.login(username, password);\n        const {\n          access_token,\n          user: userData\n        } = response;\n        await AsyncStorage.default.setItem('auth_token', access_token);\n        await AsyncStorage.default.setItem('user', JSON.stringify(userData));\n        setToken(access_token);\n        setUser(userData);\n      } catch (error) {\n        console.error('Login error:', error);\n        throw new Error(error.response?.data?.detail || 'Login failed');\n      }\n    };\n    const logout = async () => {\n      try {\n        await AsyncStorage.default.removeItem('auth_token');\n        await AsyncStorage.default.removeItem('user');\n        setToken(null);\n        setUser(null);\n      } catch (error) {\n        console.error('Logout error:', error);\n      }\n    };\n    const refreshUser = async () => {\n      try {\n        const userData = await apiService.default.getCurrentUser();\n        await AsyncStorage.default.setItem('user', JSON.stringify(userData));\n        setUser(userData);\n      } catch (error) {\n        console.error('Error refreshing user:', error);\n      }\n    };\n    return /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(AuthContext.Provider, {\n      value: {\n        user,\n        token,\n        loading,\n        login,\n        logout,\n        refreshUser\n      },\n      children: children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 5\n    }, this);\n  };\n  const useAuth = () => {\n    const context = (0, _react.useContext)(AuthContext);\n    if (context === undefined) {\n      throw new Error('useAuth must be used within an AuthProvider');\n    }\n    return context;\n  };\n});","lineCount":113,"map":[[13,2,30,0,"Object"],[13,8,30,0],[13,9,30,0,"defineProperty"],[13,23,30,0],[13,24,30,0,"exports"],[13,31,30,0],[14,4,30,0,"enumerable"],[14,14,30,0],[15,4,30,0,"get"],[15,7,30,0],[15,18,30,0,"get"],[15,19,30,0],[16,6,30,0],[16,13,30,0,"AuthProvider"],[16,25,30,0],[17,4,30,0],[18,2,30,0],[19,2,99,0,"Object"],[19,8,99,0],[19,9,99,0,"defineProperty"],[19,23,99,0],[19,24,99,0,"exports"],[19,31,99,0],[20,4,99,0,"enumerable"],[20,14,99,0],[21,4,99,0,"get"],[21,7,99,0],[21,18,99,0,"get"],[21,19,99,0],[22,6,99,0],[22,13,99,0,"useAuth"],[22,20,99,0],[23,4,99,0],[24,2,99,0],[25,2,1,0],[25,6,1,0,"_react"],[25,12,1,0],[25,15,1,0,"require"],[25,22,1,0],[25,23,1,0,"_dependencyMap"],[25,37,1,0],[26,2,2,0],[26,6,2,0,"_reactNativeAsyncStorageAsyncStorage"],[26,42,2,0],[26,45,2,0,"require"],[26,52,2,0],[26,53,2,0,"_dependencyMap"],[26,67,2,0],[27,2,2,0],[27,6,2,0,"AsyncStorage"],[27,18,2,0],[27,21,2,0,"_interopDefault"],[27,36,2,0],[27,37,2,0,"_reactNativeAsyncStorageAsyncStorage"],[27,73,2,0],[28,2,3,0],[28,6,3,0,"_servicesApi"],[28,18,3,0],[28,21,3,0,"require"],[28,28,3,0],[28,29,3,0,"_dependencyMap"],[28,43,3,0],[29,2,3,0],[29,6,3,0,"apiService"],[29,16,3,0],[29,19,3,0,"_interopDefault"],[29,34,3,0],[29,35,3,0,"_servicesApi"],[29,47,3,0],[30,2,3,41],[30,6,3,41,"_reactJsxDevRuntime"],[30,25,3,41],[30,28,3,41,"require"],[30,35,3,41],[30,36,3,41,"_dependencyMap"],[30,50,3,41],[31,2,28,0],[31,8,28,6,"AuthContext"],[31,19,28,17],[31,35,28,20],[31,39,28,20,"createContext"],[31,45,28,33],[31,46,28,33,"createContext"],[31,59,28,33],[31,61,28,63,"undefined"],[31,70,28,72],[31,71,28,73],[32,2,30,7],[32,8,30,13,"AuthProvider"],[32,20,30,25],[32,23,30,28,"AuthProvider"],[32,24,30,29],[33,4,30,31,"children"],[34,2,30,65],[34,3,30,66],[34,8,30,71],[35,4,31,2],[35,10,31,8],[35,11,31,9,"user"],[35,15,31,13],[35,17,31,15,"setUser"],[35,24,31,22],[35,25,31,23],[35,28,31,26],[35,32,31,26,"useState"],[35,38,31,34],[35,39,31,34,"useState"],[35,47,31,34],[35,49,31,48],[35,53,31,52],[35,54,31,53],[36,4,32,2],[36,10,32,8],[36,11,32,9,"token"],[36,16,32,14],[36,18,32,16,"setToken"],[36,26,32,24],[36,27,32,25],[36,30,32,28],[36,34,32,28,"useState"],[36,40,32,36],[36,41,32,36,"useState"],[36,49,32,36],[36,51,32,52],[36,55,32,56],[36,56,32,57],[37,4,33,2],[37,10,33,8],[37,11,33,9,"loading"],[37,18,33,16],[37,20,33,18,"setLoading"],[37,30,33,28],[37,31,33,29],[37,34,33,32],[37,38,33,32,"useState"],[37,44,33,40],[37,45,33,40,"useState"],[37,53,33,40],[37,55,33,41],[37,59,33,45],[37,60,33,46],[38,4,35,2],[38,8,35,2,"useEffect"],[38,14,35,11],[38,15,35,11,"useEffect"],[38,24,35,11],[38,26,35,12],[38,32,35,18],[39,6,36,4,"loadStoredAuth"],[39,20,36,18],[39,21,36,19],[39,22,36,20],[40,4,37,2],[40,5,37,3],[40,7,37,5],[40,9,37,7],[40,10,37,8],[41,4,39,2],[41,10,39,8,"loadStoredAuth"],[41,24,39,22],[41,27,39,25],[41,33,39,25,"loadStoredAuth"],[41,34,39,25],[41,39,39,37],[42,6,40,4],[42,10,40,8],[43,8,41,6],[43,14,41,12,"storedToken"],[43,25,41,23],[43,28,41,26],[43,34,41,32,"AsyncStorage"],[43,46,41,44],[43,47,41,44,"default"],[43,54,41,44],[43,55,41,45,"getItem"],[43,62,41,52],[43,63,41,53],[43,75,41,65],[43,76,41,66],[44,8,42,6],[44,14,42,12,"storedUser"],[44,24,42,22],[44,27,42,25],[44,33,42,31,"AsyncStorage"],[44,45,42,43],[44,46,42,43,"default"],[44,53,42,43],[44,54,42,44,"getItem"],[44,61,42,51],[44,62,42,52],[44,68,42,58],[44,69,42,59],[45,8,44,6],[45,12,44,10,"storedToken"],[45,23,44,21],[45,27,44,25,"storedUser"],[45,37,44,35],[45,39,44,37],[46,10,45,8,"setToken"],[46,18,45,16],[46,19,45,17,"storedToken"],[46,30,45,28],[46,31,45,29],[47,10,46,8,"setUser"],[47,17,46,15],[47,18,46,16,"JSON"],[47,22,46,20],[47,23,46,21,"parse"],[47,28,46,26],[47,29,46,27,"storedUser"],[47,39,46,37],[47,40,46,38],[47,41,46,39],[48,8,47,6],[49,6,48,4],[49,7,48,5],[49,8,48,6],[49,15,48,13,"error"],[49,20,48,18],[49,22,48,20],[50,8,49,6,"console"],[50,15,49,13],[50,16,49,14,"error"],[50,21,49,19],[50,22,49,20],[50,50,49,48],[50,52,49,50,"error"],[50,57,49,55],[50,58,49,56],[51,6,50,4],[51,7,50,5],[51,16,50,14],[52,8,51,6,"setLoading"],[52,18,51,16],[52,19,51,17],[52,24,51,22],[52,25,51,23],[53,6,52,4],[54,4,53,2],[54,5,53,3],[55,4,55,2],[55,10,55,8,"login"],[55,15,55,13],[55,18,55,16],[55,24,55,16,"login"],[55,25,55,23,"username"],[55,33,55,39],[55,35,55,41,"password"],[55,43,55,57],[55,48,55,62],[56,6,56,4],[56,10,56,8],[57,8,57,6],[57,14,57,12,"response"],[57,22,57,20],[57,25,57,23],[57,31,57,29,"apiService"],[57,41,57,39],[57,42,57,39,"default"],[57,49,57,39],[57,50,57,40,"login"],[57,55,57,45],[57,56,57,46,"username"],[57,64,57,54],[57,66,57,56,"password"],[57,74,57,64],[57,75,57,65],[58,8,58,6],[58,14,58,12],[59,10,58,14,"access_token"],[59,22,58,26],[60,10,58,28,"user"],[60,14,58,32],[60,16,58,34,"userData"],[61,8,58,43],[61,9,58,44],[61,12,58,47,"response"],[61,20,58,55],[62,8,60,6],[62,14,60,12,"AsyncStorage"],[62,26,60,24],[62,27,60,24,"default"],[62,34,60,24],[62,35,60,25,"setItem"],[62,42,60,32],[62,43,60,33],[62,55,60,45],[62,57,60,47,"access_token"],[62,69,60,59],[62,70,60,60],[63,8,61,6],[63,14,61,12,"AsyncStorage"],[63,26,61,24],[63,27,61,24,"default"],[63,34,61,24],[63,35,61,25,"setItem"],[63,42,61,32],[63,43,61,33],[63,49,61,39],[63,51,61,41,"JSON"],[63,55,61,45],[63,56,61,46,"stringify"],[63,65,61,55],[63,66,61,56,"userData"],[63,74,61,64],[63,75,61,65],[63,76,61,66],[64,8,63,6,"setToken"],[64,16,63,14],[64,17,63,15,"access_token"],[64,29,63,27],[64,30,63,28],[65,8,64,6,"setUser"],[65,15,64,13],[65,16,64,14,"userData"],[65,24,64,22],[65,25,64,23],[66,6,65,4],[66,7,65,5],[66,8,65,6],[66,15,65,13,"error"],[66,20,65,23],[66,22,65,25],[67,8,66,6,"console"],[67,15,66,13],[67,16,66,14,"error"],[67,21,66,19],[67,22,66,20],[67,36,66,34],[67,38,66,36,"error"],[67,43,66,41],[67,44,66,42],[68,8,67,6],[68,14,67,12],[68,18,67,16,"Error"],[68,23,67,21],[68,24,67,22,"error"],[68,29,67,27],[68,30,67,28,"response"],[68,38,67,36],[68,40,67,38,"data"],[68,44,67,42],[68,46,67,44,"detail"],[68,52,67,50],[68,56,67,54],[68,70,67,68],[68,71,67,69],[69,6,68,4],[70,4,69,2],[70,5,69,3],[71,4,71,2],[71,10,71,8,"logout"],[71,16,71,14],[71,19,71,17],[71,25,71,17,"logout"],[71,26,71,17],[71,31,71,29],[72,6,72,4],[72,10,72,8],[73,8,73,6],[73,14,73,12,"AsyncStorage"],[73,26,73,24],[73,27,73,24,"default"],[73,34,73,24],[73,35,73,25,"removeItem"],[73,45,73,35],[73,46,73,36],[73,58,73,48],[73,59,73,49],[74,8,74,6],[74,14,74,12,"AsyncStorage"],[74,26,74,24],[74,27,74,24,"default"],[74,34,74,24],[74,35,74,25,"removeItem"],[74,45,74,35],[74,46,74,36],[74,52,74,42],[74,53,74,43],[75,8,75,6,"setToken"],[75,16,75,14],[75,17,75,15],[75,21,75,19],[75,22,75,20],[76,8,76,6,"setUser"],[76,15,76,13],[76,16,76,14],[76,20,76,18],[76,21,76,19],[77,6,77,4],[77,7,77,5],[77,8,77,6],[77,15,77,13,"error"],[77,20,77,18],[77,22,77,20],[78,8,78,6,"console"],[78,15,78,13],[78,16,78,14,"error"],[78,21,78,19],[78,22,78,20],[78,37,78,35],[78,39,78,37,"error"],[78,44,78,42],[78,45,78,43],[79,6,79,4],[80,4,80,2],[80,5,80,3],[81,4,82,2],[81,10,82,8,"refreshUser"],[81,21,82,19],[81,24,82,22],[81,30,82,22,"refreshUser"],[81,31,82,22],[81,36,82,34],[82,6,83,4],[82,10,83,8],[83,8,84,6],[83,14,84,12,"userData"],[83,22,84,20],[83,25,84,23],[83,31,84,29,"apiService"],[83,41,84,39],[83,42,84,39,"default"],[83,49,84,39],[83,50,84,40,"getCurrentUser"],[83,64,84,54],[83,65,84,55],[83,66,84,56],[84,8,85,6],[84,14,85,12,"AsyncStorage"],[84,26,85,24],[84,27,85,24,"default"],[84,34,85,24],[84,35,85,25,"setItem"],[84,42,85,32],[84,43,85,33],[84,49,85,39],[84,51,85,41,"JSON"],[84,55,85,45],[84,56,85,46,"stringify"],[84,65,85,55],[84,66,85,56,"userData"],[84,74,85,64],[84,75,85,65],[84,76,85,66],[85,8,86,6,"setUser"],[85,15,86,13],[85,16,86,14,"userData"],[85,24,86,22],[85,25,86,23],[86,6,87,4],[86,7,87,5],[86,8,87,6],[86,15,87,13,"error"],[86,20,87,18],[86,22,87,20],[87,8,88,6,"console"],[87,15,88,13],[87,16,88,14,"error"],[87,21,88,19],[87,22,88,20],[87,46,88,44],[87,48,88,46,"error"],[87,53,88,51],[87,54,88,52],[88,6,89,4],[89,4,90,2],[89,5,90,3],[90,4,92,2],[90,24,93,4],[90,28,93,4,"_reactJsxDevRuntime"],[90,47,93,4],[90,48,93,4,"jsxDEV"],[90,54,93,4],[90,56,93,5,"AuthContext"],[90,67,93,16],[90,68,93,17,"Provider"],[90,76,93,25],[91,6,93,26,"value"],[91,11,93,31],[91,13,93,33],[92,8,93,35,"user"],[92,12,93,39],[93,8,93,41,"token"],[93,13,93,46],[94,8,93,48,"loading"],[94,15,93,55],[95,8,93,57,"login"],[95,13,93,62],[96,8,93,64,"logout"],[96,14,93,70],[97,8,93,72,"refreshUser"],[98,6,93,84],[98,7,93,86],[99,6,93,86,"children"],[99,14,93,86],[99,16,94,7,"children"],[100,4,94,15],[101,6,94,15,"fileName"],[101,14,94,15],[101,16,94,15,"_jsxFileName"],[101,28,94,15],[102,6,94,15,"lineNumber"],[102,16,94,15],[103,6,94,15,"columnNumber"],[103,18,94,15],[104,4,94,15],[104,11,95,26],[104,12,95,27],[105,2,97,0],[105,3,97,1],[106,2,99,7],[106,8,99,13,"useAuth"],[106,15,99,20],[106,18,99,23,"useAuth"],[106,19,99,23],[106,24,99,29],[107,4,100,2],[107,10,100,8,"context"],[107,17,100,15],[107,20,100,18],[107,24,100,18,"useContext"],[107,30,100,28],[107,31,100,28,"useContext"],[107,41,100,28],[107,43,100,29,"AuthContext"],[107,54,100,40],[107,55,100,41],[108,4,101,2],[108,8,101,6,"context"],[108,15,101,13],[108,20,101,18,"undefined"],[108,29,101,27],[108,31,101,29],[109,6,102,4],[109,12,102,10],[109,16,102,14,"Error"],[109,21,102,19],[109,22,102,20],[109,67,102,65],[109,68,102,66],[110,4,103,2],[111,4,104,2],[111,11,104,9,"context"],[111,18,104,16],[112,2,105,0],[112,3,105,1],[113,0,105,2],[113,3]],"functionMap":{"names":["<global>","AuthProvider","useEffect$argument_0","loadStoredAuth","login","logout","refreshUser","useAuth"],"mappings":"AAA;4BC6B;YCK;GDE;yBEE;GFc;gBGE;GHc;iBIE;GJS;sBKE;GLQ;CDO;uBOE;CPM"},"hasCjsExports":false},"type":"js/module"}]}